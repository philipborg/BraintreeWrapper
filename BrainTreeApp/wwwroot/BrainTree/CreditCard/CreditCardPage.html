<template>
    <template id="credit-card-information" is="dom-bind">
        <div id="credit-card-data">
            <div>
                <label for="customer-information" style="text-transform: uppercase;">
                    <i class="pull-left glyphicon glyphicon-credit-card" style="margin-right:5px;padding-top:3px;"></i>
                    <strong>
                        Credit card payment
                    </strong>
                </label>
            </div>
            <ul>
                <template is="dom-repeat" items="{{model.Errors}}">
                    <li style="color:#ff0000;font-weight:bold;">Error: <span>{{item.Error}}</span></li>
                </template>
            </ul>
            <hr />
            <div class$="{{addErrorClass('form-group', model.CreditCardError.CardNumber)}}">
                <label class="control-label" for="card-number">Card number:</label>
                <input type="text" class="form-control" id="card-number" aria-describedby="card-number" value="{{model.CreditCard.CardNumber$::input}}" maxlength="19" min="16">
            </div>
            <div class="form-group">
                <label for="customer-information">
                    Card expiry date:
                </label>
            </div>
            <div>
                <div class="form-group col-lg-5">
                    <select id="card-expiry-month" class="col-md-3" value="{{model.CreditCard.ExpiryMonth$::change}}">
                        <template is="dom-repeat" items="{{model.Months}}">
                            <option value="{{item.Value}}">{{item.Text}}</option>
                        </template>
                    </select>
                    <select id="card-expiry-year" class="col-md-3" value="{{model.CreditCard.ExpiryYear$::change}}">
                        <template is="dom-repeat" items="{{model.Years}}">
                            <option value="{{item.Value}}">{{item.Text}}</option>
                        </template>
                    </select>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class$="{{addErrorClass('form-group', model.CreditCardError.SecurityNumber)}}">
                <label class="control-label" for="security-number">Card security code:</label>
                <input type="text" class="form-control" id="security-number" aria-describedby="security-number" value="{{model.CreditCard.SecurityNumber$::input}}">
            </div>
        </div>
        <hr />
        <div class="pull-right">
            <button class="btn btn-sm btn-default" type="button" value="{{model.Pay$::click}}" onclick="++this.value">Pay</button>
        </div>
        <dom-bind-notifier path="model" observed-object="{{model}}" deep></dom-bind-notifier>
    </template>
    <script>
        var customer = document.querySelector('#credit-card-information');
        customer.addErrorClass = function (basic, error) {
            return basic + ' ' + error;
        }
    </script>
</template>